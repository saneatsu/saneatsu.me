# 実装タスクリスト

## 1. プロジェクト基盤構築

### 1.1 基本的なモノレポ構成作成
- [x] ルートpackage.jsonの作成（pnpm workspace設定）
- [x] 基本的なディレクトリ構造作成（apps/, packages/）
- [x] .gitignoreファイルの作成
- _要件: プロジェクト基盤_

### 1.2 Turboセットアップ
- [x] Turboのインストールと設定
- [x] turbo.jsonでビルドパイプラインを設定
- [x] 基本的なスクリプト設定
- _要件: プロジェクト基盤_

### 1.3 BiomeとCommit Lintセットアップ
- [x] Biomeのインストールと設定（ESLint/Prettier代替）
- [x] Commit Lintのセットアップ
- [x] pre-commitフックの設定（Lefthookを使用）
- _要件: コード品質管理_

### 1.4 TypeScript基本設定
- [x] ルートtsconfig.jsonの作成
- [x] 各パッケージ用のtsconfig.jsonテンプレート作成
- [x] 型安全性を確保するための基本設定
- _要件: 要件9（パフォーマンスとスケーラビリティ）_

### 1.5 パッケージディレクトリ作成
- [x] packages/db、packages/i18n、packages/schemasディレクトリ作成
- [x] 各パッケージの基本package.json作成
- [x] 依存関係の基本設定
- _要件: 要件5（記事管理機能）、要件7（多言語対応）_

### 1.6 アプリケーションディレクトリ作成
- [x] apps/web、apps/backendディレクトリ作成
- [x] 各アプリの基本package.json作成
- [x] 基本的な依存関係設定
- _要件: 要件1（記事閲覧機能）、要件5（記事管理機能）_

### 1.7 apps/docsセットアップ（低優先度）
- [ ] 設計図ドキュメント用のNext.jsアプリケーション作成
- [ ] 設計書、ERダイアグラム、シーケンス図の表示
- [ ] 開発者向けドキュメントサイトの構築
- _要件: プロジェクト管理・ドキュメント化_

## 2. テスト環境構築

### 2.1 Vitestテスト環境のセットアップ
- [x] Vitestとテストライブラリのインストール
- [x] 各パッケージにVitest設定を追加
- [ ] テスト用のヘルパー関数とモックを作成
- [ ] CI/CDでのテスト実行設定
- _要件: 要件9（パフォーマンスとスケーラビリティ）_

### 2.2 Storybookセットアップ
- [ ] apps/webにStorybook設定を追加
- [ ] 基本的なコンポーネントストーリーのテンプレート作成
- [ ] Chromatic連携の準備
- _要件: 要件2（UI/UX機能）、要件8（レスポンシブデザイン）_

### 2.3 Playwrightセットアップ
- [ ] E2Eテスト環境の構築
- [ ] 基本的なテストケースのテンプレート作成
- [ ] テスト用データベースの設定
- _要件: 要件1（記事閲覧機能）、要件4（認証機能）_

## 3. データベース基盤構築

### 3.1 Drizzle ORMセットアップ
- [x] packages/dbパッケージの初期化
- [x] SQLiteデータベース設定（開発用）
- [x] Drizzle設定ファイルの作成
- _要件: 要件5（記事管理機能）、要件6（タグ管理機能）_

### 3.2 基本スキーマ定義
- [x] usersテーブルのスキーマ定義
- [x] articlesテーブルのスキーマ定義
- [x] article_translationsテーブルのスキーマ定義
- _要件: 要件4（認証機能）、要件5（記事管理機能）、要件7（多言語対応）_

### 3.3 タグ関連スキーマ定義
- [x] tagsテーブルのスキーマ定義
- [x] tag_translationsテーブルのスキーマ定義
- [x] article_tagsテーブル（中間テーブル）のスキーマ定義
- _要件: 要件3（タグ機能）、要件6（タグ管理機能）、要件7（多言語対応）_

### 3.4 マイグレーション実行とシードデータ作成
- [x] 初回マイグレーションの実行
- [ ] 開発用のシードデータ作成
- [ ] テスト用のファクトリー関数作成
- _要件: 要件1（記事閲覧機能）、要件3（タグ機能）_

## 4. バックエンドAPI基盤構築

### 4.1 Hono APIサーバーセットアップ
- [x] apps/backendの初期化
- [x] Honoの基本設定とミドルウェア設定
- [x] CORS、エラーハンドリングの設定
- _要件: 要件1（記事閲覧機能）、要件5（記事管理機能）_

### 4.2 認証ミドルウェア実装
- [ ] JWT認証の基本実装
- [ ] 認証が必要なルートの保護
- [ ] エラーレスポンスの統一
- _要件: 要件4（認証機能）_

### 4.3 基本的なAPIエンドポイント実装
- [x] GET /api/health（ヘルスチェック）
- [x] GET /api/articles（記事一覧取得）
- [x] GET /api/articles/:slug（記事詳細取得）
- [x] GET /api/tags（タグ一覧取得）
- [x] GET /api/tags/:slug/articles（タグ別記事一覧）
- _要件: 要件1（記事閲覧機能）、要件3（タグ機能）_

## 5. フロントエンド基盤構築

### 5.1 Next.js 15アプリケーションセットアップ
- [x] apps/webの初期化
- [x] Next.js 15のApp Routerを使用
- [x] Tailwind CSS、shadcn/ui、Lucideの設定
- _要件: 要件2（UI/UX機能）、要件8（レスポンシブデザイン）_

### 5.2 多言語化（i18n）とスキーマパッケージセットアップ
- [x] packages/i18nパッケージの作成（プレースホルダー）
- [x] packages/schemasパッケージの作成（プレースホルダー）
- [ ] next-intlの設定
- [ ] 基本的な翻訳ファイル作成（日本語・英語）
- _要件: 要件2（UI/UX機能）、要件7（多言語対応）_

### 5.3 基本レイアウトとヘッダーコンポーネント実装
- [x] レスポンシブなヘッダーコンポーネント作成
- [x] カラーモード切り替え機能実装
- [ ] 言語切り替え機能実装
- _要件: 要件2（UI/UX機能）、要件8（レスポンシブデザイン）_

## 6. Cloudflareデプロイ環境構築

### 6.1 Cloudflare Pagesセットアップ
- [ ] apps/webのCloudflare Pages設定
- [ ] ビルド設定とデプロイメント設定
- [ ] 環境変数の設定
- _要件: 要件9（パフォーマンスとスケーラビリティ）_

### 6.2 Cloudflare Workersセットアップ
- [ ] apps/backendのCloudflare Workers設定
- [ ] Wranglerの設定
- [ ] 本番用データベース（D1）の設定
- _要件: 要件9（パフォーマンスとスケーラビリティ）_

### 6.3 Cloudflare Imagesセットアップ
- [ ] Cloudflare Imagesの設定
- [ ] 画像アップロード用のAPI実装
- [ ] 画像表示用のヘルパー関数作成
- _要件: 要件5（記事管理機能）、要件9（パフォーマンスとスケーラビリティ）_

## 7. 基本機能実装（MVP）

### 7.1 トップページ実装
- [x] 記事一覧表示の基本実装
- [x] レスポンシブデザインの適用
- [x] 基本的なスタイリング
- _要件: 要件1（記事閲覧機能）、要件8（レスポンシブデザイン）_

### 7.2 記事詳細ページ実装
- [x] Markdownレンダリング機能
- [x] 基本的なレイアウト実装
- [ ] 多言語対応の確認
- _要件: 要件1（記事閲覧機能）、要件7（多言語対応）_

### 7.3 Google認証とBasic認証実装
- [ ] Google OAuth設定
- [ ] ログインページの実装（/loginアクセス時にBasic認証を追加）
- [ ] 認証フローの実装
- [ ] packages/schemasのZodスキーマを参照
- _要件: 要件4（認証機能）_

## 8. 管理機能実装

### 8.1 管理画面レイアウト実装
- [ ] 認証が必要なレイアウト作成
- [ ] ナビゲーション実装
- [ ] 基本的なスタイリング
- _要件: 要件5（記事管理機能）、要件6（タグ管理機能）_

### 8.2 記事管理機能実装
- [ ] 記事一覧表示
- [ ] 記事作成フォーム
- [ ] 記事編集機能
- _要件: 要件5（記事管理機能）、要件7（多言語対応）_

### 8.3 タグ管理機能実装
- [ ] タグ一覧表示
- [ ] タグ作成・編集機能
- [ ] 記事とタグの関連付け
- _要件: 要件3（タグ機能）、要件6（タグ管理機能）_

## 9. 高度な機能実装

### 9.1 ページネーション実装
- [ ] 記事一覧のページネーション
- [ ] URLクエリパラメーター対応
- [ ] SEO対応
- _要件: 要件1（記事閲覧機能）_

### 9.2 タグ別記事一覧実装
- [ ] タグページの実装
- [ ] タグ別記事フィルタリング
- [ ] パンくずナビゲーション
- _要件: 要件3（タグ機能）_

### 9.3 画像アップロード機能実装
- [ ] ファイルアップロードUI
- [ ] Cloudflare Imagesとの連携
- [ ] プレビュー機能
- _要件: 要件5（記事管理機能）、要件9（パフォーマンスとスケーラビリティ）_

## 10. 最適化とテスト

### 10.1 パフォーマンス最適化
- [ ] 画像最適化の実装
- [ ] キャッシュ戦略の実装
- [ ] バンドルサイズの最適化
- _要件: 要件9（パフォーマンスとスケーラビリティ）_

### 10.2 E2Eテスト実装
- [ ] 主要なユーザージャーニーのテスト
- [ ] 管理機能のテスト
- [ ] 多言語切り替えのテスト
- _要件: 全要件の統合テスト_

### 10.3 セキュリティ強化
- [ ] CSRFプロテクション
- [ ] 入力値検証の強化
- [ ] セキュリティヘッダーの設定
- _要件: 要件4（認証機能）、要件5（記事管理機能）_
